<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor AI Assessment | TeamAI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            overflow: hidden;
        }

        .screen {
            display: none;
            min-height: 600px;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.95;
        }

        .content {
            padding: 50px;
        }

        .question-text {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        textarea {
            width: 100%;
            padding: 20px;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-family: inherit;
            min-height: 120px;
            resize: vertical;
            transition: all 0.3s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        button {
            padding: 18px 40px;
            font-size: 18px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 100%;
            margin-top: 30px;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Processing Screen */
        .processing {
            text-align: center;
            padding: 80px 50px;
        }

        .spinner {
            font-size: 64px;
            animation: spin 2s linear infinite;
            margin-bottom: 30px;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .processing h2 {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .processing-steps {
            text-align: left;
            max-width: 500px;
            margin: 30px auto;
        }

        .processing-step {
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
            opacity: 0;
            animation: slideIn 0.5s ease forwards;
        }

        .processing-step:nth-child(1) { animation-delay: 0.5s; }
        .processing-step:nth-child(2) { animation-delay: 1s; }
        .processing-step:nth-child(3) { animation-delay: 1.5s; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .step-icon {
            font-size: 24px;
        }

        .step-text {
            flex: 1;
            font-size: 15px;
            color: #555;
        }

        /* Pattern Recognition Screen */
        .pattern-intro {
            background: linear-gradient(135deg, #fff9e6 0%, #ffe6e6 100%);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 2px solid #ffd700;
        }

        .pattern-intro h3 {
            font-size: 20px;
            color: #d97706;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pattern-intro p {
            font-size: 16px;
            color: #92400e;
            line-height: 1.6;
        }

        .pattern-count {
            background: #d97706;
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .challenges-grid {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .challenge-card {
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
            background: white;
        }

        .challenge-card:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(5px);
        }

        .challenge-card.selected {
            border-color: #10b981;
            background: #f0fdf4;
        }

        .challenge-icon {
            font-size: 32px;
            flex-shrink: 0;
        }

        .challenge-text {
            flex: 1;
            font-size: 16px;
            font-weight: 500;
            color: #2c3e50;
        }

        .challenge-check {
            font-size: 24px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .challenge-card.selected .challenge-check {
            opacity: 1;
        }

        .match-result {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            margin-top: 30px;
            display: none;
        }

        .match-result.active {
            display: block;
            animation: bounceIn 0.5s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }

        .match-result h3 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .match-result p {
            font-size: 16px;
            opacity: 0.95;
        }

        /* Validation Questions */
        .question-options {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option-card {
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .option-card:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .option-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .option-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .option-desc {
            font-size: 14px;
            opacity: 0.8;
        }

        /* Diagnosis Screen */
        .diagnosis-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .diagnosis-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .diagnosis-title {
            font-size: 32px;
            font-weight: 900;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .diagnosis-subtitle {
            font-size: 18px;
            color: #666;
        }

        .health-meter {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .meter-label {
            font-size: 16px;
            font-weight: 600;
            color: #555;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .meter-bar {
            height: 40px;
            background: #e0e0e0;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .meter-fill {
            height: 100%;
            transition: width 2s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-weight: 700;
        }

        .meter-fill.critical { background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%); }
        .meter-fill.moderate { background: linear-gradient(90deg, #f59e0b 0%, #d97706 100%); }
        .meter-fill.good { background: linear-gradient(90deg, #10b981 0%, #059669 100%); }

        .symptoms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .symptom-card {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid;
        }

        .symptom-card.critical {
            background: #fef2f2;
            border-color: #ef4444;
        }

        .symptom-card.moderate {
            background: #fffbeb;
            border-color: #f59e0b;
        }

        .symptom-card.minor {
            background: #f0fdf4;
            border-color: #10b981;
        }

        .symptom-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .symptom-severity {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .symptom-card.critical .symptom-severity {
            background: #ef4444;
            color: white;
        }

        .symptom-card.moderate .symptom-severity {
            background: #f59e0b;
            color: white;
        }

        .symptom-card.minor .symptom-severity {
            background: #10b981;
            color: white;
        }

        .symptom-title {
            font-size: 16px;
            font-weight: 600;
        }

        .symptom-desc {
            font-size: 14px;
            color: #555;
            line-height: 1.5;
        }

        .success-story {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
            border-left: 4px solid #0284c7;
        }

        .success-story h4 {
            font-size: 18px;
            color: #0284c7;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .success-story p {
            font-size: 15px;
            color: #0c4a6e;
            line-height: 1.6;
        }

        .success-metric {
            display: inline-block;
            background: #0284c7;
            color: white;
            padding: 3px 10px;
            border-radius: 6px;
            font-weight: 700;
            margin: 0 3px;
        }

        /* Prescription Screen */
        .prescription-timeline {
            margin: 30px 0;
        }

        .phase-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .phase-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .phase-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 15px;
        }

        .phase-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
            margin-right: 15px;
        }

        .phase-title {
            font-size: 20px;
            font-weight: 700;
            color: #2c3e50;
            flex: 1;
        }

        .phase-duration {
            font-size: 14px;
            color: #666;
            background: #f0f0f0;
            padding: 5px 12px;
            border-radius: 20px;
        }

        .phase-details {
            padding-left: 55px;
        }

        .phase-items {
            list-style: none;
            margin: 15px 0;
        }

        .phase-items li {
            padding: 8px 0;
            font-size: 15px;
            color: #555;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .phase-items li::before {
            content: "‚Üí";
            color: #667eea;
            font-weight: bold;
        }

        .phase-result {
            background: #f0fdf4;
            border-left: 3px solid #10b981;
            padding: 12px 15px;
            margin-top: 10px;
            border-radius: 6px;
        }

        .phase-result strong {
            color: #059669;
        }

        .cta-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            margin-top: 40px;
        }

        .cta-box h3 {
            font-size: 28px;
            margin-bottom: 15px;
        }

        .cta-box p {
            font-size: 16px;
            opacity: 0.95;
            margin-bottom: 25px;
        }

        .cta-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .btn-white {
            background: white;
            color: #667eea;
            padding: 15px 30px;
            border-radius: 8px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-white:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,255,255,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Screen 1: Initial Input -->
        <div class="screen active" id="screen1">
            <div class="header">
                <h1>ü©∫ Digital Health Checkup</h1>
                <p>Let me diagnose what's holding your business back</p>
            </div>
            <div class="content">
                <div class="question-text">Tell me about your business in one sentence</div>
                <div class="subtitle">
                    Like a doctor diagnosing symptoms, I'll analyze your digital marketing health and prescribe exactly what you need.
                </div>
                <textarea 
                    id="businessInput" 
                    placeholder="Example: I run a dental clinic with 3 locations in Mumbai..."
                ></textarea>
                <button id="analyzeBtn" disabled>Analyze My Business ‚Üí</button>
            </div>
        </div>

        <!-- Screen 2: Processing -->
        <div class="screen" id="screen2">
            <div class="processing">
                <div class="spinner">üîç</div>
                <h2>Analyzing your business patterns...</h2>
                <div class="processing-steps">
                    <div class="processing-step">
                        <div class="step-icon">üè¢</div>
                        <div class="step-text">Detecting industry and business model...</div>
                    </div>
                    <div class="processing-step">
                        <div class="step-icon">üìä</div>
                        <div class="step-text">Matching with <span id="matchCount">47</span> similar businesses in our database...</div>
                    </div>
                    <div class="processing-step">
                        <div class="step-icon">üéØ</div>
                        <div class="step-text">Identifying typical challenges for your industry...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Screen 3: Pattern Recognition -->
        <div class="screen" id="screen3">
            <div class="header">
                <h1 id="industryIcon">ü¶∑</h1>
                <p id="industryName">Digital Health Checkup for Dental Practices</p>
            </div>
            <div class="content">
                <div class="pattern-intro">
                    <h3>
                        <span>üí°</span>
                        <span>Let me guess your challenges...</span>
                        <span class="pattern-count" id="patternMatchCount">Based on 47 similar clinics</span>
                    </h3>
                    <p id="patternIntroText">
                        I've diagnosed this pattern 47 times with dental practices in tier-1 cities. 
                        Here's what typically happens - <strong>tap the ones that sound familiar</strong>:
                    </p>
                </div>

                <div class="challenges-grid" id="challengesGrid">
                    <!-- Challenges will be inserted here -->
                </div>

                <div class="match-result" id="matchResult">
                    <h3 id="matchTitle">üéØ 5 out of 6! Classic pattern.</h3>
                    <p id="matchText">You're in good company - this is the #1 pattern I see with successful local practices. Let me confirm a couple more things...</p>
                </div>

                <button id="continueBtn1" disabled>Continue Diagnosis ‚Üí</button>
            </div>
        </div>

        <!-- Screen 4: Validation Questions -->
        <div class="screen" id="screen4">
            <div class="header">
                <h1>üî¨</h1>
                <p>Quick validation to confirm my diagnosis</p>
            </div>
            <div class="content">
                <div class="question-text" id="validationQ1">Your website - which describes it best?</div>
                <div class="subtitle">This affects your diagnosis significantly</div>

                <div class="question-options" id="validationOptions">
                    <div class="option-card" data-value="modern">
                        <div class="option-title">üöÄ Built in last 2 years, modern and fast</div>
                        <div class="option-desc">Mobile-optimized, loads in under 3 seconds</div>
                    </div>
                    <div class="option-card" data-value="dated">
                        <div class="option-title">‚ö†Ô∏è 3-5 years old, getting dated</div>
                        <div class="option-desc">Works but not optimized for mobile</div>
                    </div>
                    <div class="option-card" data-value="old">
                        <div class="option-title">üî¥ 5+ years old or non-existent</div>
                        <div class="option-desc">Outdated design or no website at all</div>
                    </div>
                </div>

                <button id="continueBtn2" disabled>Next Question ‚Üí</button>
            </div>
        </div>

        <!-- Screen 5: Diagnosis -->
        <div class="screen" id="screen5">
            <div class="header">
                <h1>üìã</h1>
                <p>Your Complete Digital Health Report</p>
            </div>
            <div class="content">
                <div class="diagnosis-header">
                    <div class="diagnosis-icon" id="diagnosisIcon">ü¶∑</div>
                    <div class="diagnosis-title" id="diagnosisTitle">Digital Health Score: 3.2/7</div>
                    <div class="diagnosis-subtitle" id="diagnosisSubtitle">(Moderate Decay - Fixable Before Root Canal!)</div>
                </div>

                <div class="health-meter">
                    <div class="meter-label" id="meterLabel">
                        <span>üéØ</span>
                        <span>Foundation (Word-of-mouth, Service Quality)</span>
                    </div>
                    <div class="meter-bar">
                        <div class="meter-fill good" style="width: 85%">85% - Rock Solid! üåü</div>
                    </div>
                </div>

                <div class="question-text" style="margin-bottom: 20px;">But your VISIBILITY layer has three cracks:</div>

                <div class="symptoms-grid" id="symptomsGrid">
                    <!-- Symptoms will be inserted here -->
                </div>

                <div class="success-story">
                    <h4>
                        <span>‚ú®</span>
                        <span>Success Story: Dr. Sharma's Clinic, Pune</span>
                    </h4>
                    <p>
                        Had the <strong>identical pattern</strong> - great service, weak online visibility. 
                        We fixed these three issues in <span class="success-metric">12 weeks</span>, 
                        and new patient bookings went from <span class="success-metric">25/month</span> 
                        to <span class="success-metric">82/month</span>. 
                        That's a <span class="success-metric">3.3x increase</span> in 3 months.
                    </p>
                </div>

                <button id="seePrescriptionBtn">See My Treatment Plan ‚Üí</button>
            </div>
        </div>

        <!-- Screen 6: Prescription -->
        <div class="screen" id="screen6">
            <div class="header">
                <h1>üíä</h1>
                <p>Your Personalized Treatment Plan</p>
            </div>
            <div class="content">
                <div class="question-text">Here's how we'll fix this (in order of impact):</div>
                <div class="subtitle" id="prescriptionIntro">
                    Based on 47 similar cases, this sequence delivers the fastest ROI. 
                    Each phase builds on the previous one.
                </div>

                <div class="prescription-timeline" id="prescriptionTimeline">
                    <!-- Phases will be inserted here -->
                </div>

                <div class="success-story">
                    <h4>
                        <span>üìä</span>
                        <span>Expected Results Timeline</span>
                    </h4>
                    <p>
                        <strong>Month 2:</strong> First signs of improvement (20-30% more inquiries)<br>
                        <strong>Month 4:</strong> Clear upward trend (50-60% increase)<br>
                        <strong>Month 6:</strong> Full momentum (2-3x baseline)<br>
                        <strong>Month 12:</strong> Sustainable growth engine in place
                    </p>
                </div>

                <div class="cta-box">
                    <h3>Ready to start your treatment?</h3>
                    <p>Schedule a free 30-minute strategy call with our team. We'll walk you through the first phase and answer all your questions.</p>
                    <div class="cta-buttons">
                        <button class="btn-white">üìÖ Book Strategy Call</button>
                        <button class="btn-white">üì• Download Full Report</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // AI Context
        const aiContext = {
            industry: null,
            industryType: null,
            geography: null,
            size: null,
            maturity: 3.0,
            selectedChallenges: [],
            websiteStatus: null,
            matchCount: 47
        };

        // Industry configurations
        const industryConfigs = {
            dental: {
                icon: "ü¶∑",
                name: "Digital Health Checkup for Dental Practices",
                matchCount: 47,
                challenges: [
                    { icon: "üîç", text: "Great word-of-mouth but patients can't find you on Google" },
                    { icon: "üåê", text: "Website is outdated or loads too slowly" },
                    { icon: "üè¢", text: "Corporate dental chains outranking you online" },
                    { icon: "üì±", text: "No time to post consistently on social media" },
                    { icon: "üìÖ", text: "Patients want online booking but you don't offer it" },
                    { icon: "‚≠ê", text: "Competitors have 10x more Google reviews" }
                ],
                symptoms: [
                    { severity: "critical", title: "Local SEO Cavity", desc: "Losing 60% of 'dentist near me' searches to competitors" },
                    { severity: "moderate", title: "Website Decay", desc: "8-second load time causing 45% of visitors to bounce" },
                    { severity: "minor", title: "Social Proof Gap", desc: "Only 8 reviews vs. competitors with 150+" }
                ],
                phases: [
                    {
                        title: "LOCAL SEO SURGERY",
                        duration: "Months 1-2",
                        items: [
                            "Fix Google Business Profile (hours, photos, services)",
                            "Implement schema markup for local search",
                            "Build citation network (Justdial, Practo, etc.)",
                            "Optimize for 'dentist near me' searches"
                        ],
                        result: "Rank in top 3 for local searches ‚Üí 50+ new inquiries/month"
                    },
                    {
                        title: "WEBSITE PHYSICAL THERAPY",
                        duration: "Months 3-4",
                        items: [
                            "Speed optimization (8sec ‚Üí 2sec load time)",
                            "Mobile-first redesign for patient experience",
                            "Add online booking widget (24/7 availability)",
                            "Create service pages optimized for conversions"
                        ],
                        result: "35% more after-hours bookings + 60% improvement in visitor-to-lead conversion"
                    },
                    {
                        title: "REPUTATION BUILDING",
                        duration: "Months 5-6",
                        items: [
                            "Automated review request system",
                            "Video testimonials from happy patients",
                            "Before/after portfolio showcase",
                            "Trust badges and certifications display"
                        ],
                        result: "Reach 4.8‚òÖ rating with 50+ reviews ‚Üí Become the #1 choice in your area"
                    }
                ]
            },
            bakery: {
                icon: "üç∞",
                name: "Marketing Recipe Analysis for Bakeries",
                matchCount: 34,
                challenges: [
                    { icon: "üåü", text: "Instagram looks amazing but website doesn't" },
                    { icon: "üì¶", text: "No online ordering system for busy customers" },
                    { icon: "üîç", text: "People searching 'bakery near me' find competitors first" },
                    { icon: "‚è∞", text: "Hard to keep up with daily content creation" },
                    { icon: "üí∞", text: "Not sure which marketing channels actually bring customers" },
                    { icon: "üéÇ", text: "Custom cake orders happen via WhatsApp mess" }
                ],
                symptoms: [
                    { severity: "critical", title: "Website Oven Too Slow", desc: "5-second load time losing hungry customers" },
                    { severity: "moderate", title: "Ordering Friction", desc: "WhatsApp-only ordering limits growth potential" },
                    { severity: "minor", title: "Content Consistency", desc: "Posting 1-2x/week instead of optimal 4-5x" }
                ],
                phases: [
                    {
                        title: "WEBSITE SPEED BAKING",
                        duration: "Months 1-2",
                        items: [
                            "Image optimization (reduce load time 70%)",
                            "Mobile-first responsive design",
                            "Online menu with drool-worthy photos",
                            "Click-to-order or WhatsApp integration"
                        ],
                        result: "2x more online orders within 4 weeks"
                    },
                    {
                        title: "LOCAL SEO FROSTING",
                        duration: "Months 3-4",
                        items: [
                            "Google Business optimization with menu photos",
                            "Location-based keywords ('bakery in [area]')",
                            "Food delivery app integration (Swiggy/Zomato)",
                            "Review generation from happy customers"
                        ],
                        result: "Rank #1 for 'bakery near me' ‚Üí 100+ new customers/month"
                    },
                    {
                        title: "SOCIAL MEDIA PRESENTATION",
                        duration: "Months 5-6",
                        items: [
                            "Content calendar (4-5 posts/week)",
                            "Behind-the-scenes baking videos",
                            "Customer feature Fridays",
                            "Instagram Stories for daily specials"
                        ],
                        result: "3x Instagram engagement ‚Üí Natural word-of-mouth amplification"
                    }
                ]
            },
            saas: {
                icon: "‚ö°",
                name: "Growth Stack Audit for SaaS Startups",
                matchCount: 89,
                challenges: [
                    { icon: "üí∏", text: "CAC (Customer Acquisition Cost) is too high" },
                    { icon: "üìâ", text: "Leads come in but conversion rate is dropping" },
                    { icon: "üîÑ", text: "Churn rate higher than you'd like" },
                    { icon: "üìä", text: "Can't tell which marketing channel actually drives revenue" },
                    { icon: "‚è±Ô∏è", text: "Time-to-value for new users is too long" },
                    { icon: "üéØ", text: "Landing pages exist but don't convert well" }
                ],
                symptoms: [
                    { severity: "critical", title: "Activation Rate Leak", desc: "Only 12% of signups become active users (target: 40%)" },
                    { severity: "moderate", title: "CAC Inflation", desc: "Spending ‚Çπ15K to acquire ‚Çπ8K LTV customers" },
                    { severity: "minor", title: "Onboarding Friction", desc: "Average time-to-value: 8 days (target: 2 days)" }
                ],
                phases: [
                    {
                        title: "ONBOARDING SURGERY",
                        duration: "Months 1-2",
                        items: [
                            "Implement progressive onboarding flow",
                            "In-app guidance for key features",
                            "Welcome email sequence automation",
                            "Quick-win tasks for new users"
                        ],
                        result: "Activation rate: 12% ‚Üí 35% (3x improvement)"
                    },
                    {
                        title: "CONVERSION OPTIMIZATION",
                        duration: "Months 3-4",
                        items: [
                            "A/B test landing pages (headline, CTA, social proof)",
                            "Implement exit-intent popups with offers",
                            "Add live chat for pre-sales questions",
                            "Create comparison pages vs. competitors"
                        ],
                        result: "Landing page conversion: 2.1% ‚Üí 5.3% (2.5x improvement)"
                    },
                    {
                        title: "RETENTION ENGINE",
                        duration: "Months 5-6",
                        items: [
                            "Usage-based email triggers (inactive users)",
                            "Feature adoption campaigns",
                            "Customer success playbook",
                            "Feedback loop for product improvements"
                        ],
                        result: "Reduce churn from 12%/month to 5%/month ‚Üí Sustainable growth"
                    }
                ]
            }
        };

        // Event Listeners - Screen 1
        const businessInput = document.getElementById('businessInput');
        const analyzeBtn = document.getElementById('analyzeBtn');

        businessInput.addEventListener('input', () => {
            analyzeBtn.disabled = businessInput.value.length < 20;
        });

        analyzeBtn.addEventListener('click', () => {
            const input = businessInput.value.toLowerCase();
            
            // Detect industry
            if (input.includes('dental') || input.includes('clinic') || input.includes('doctor')) {
                aiContext.industryType = 'dental';
            } else if (input.includes('bakery') || input.includes('cake') || input.includes('pastry')) {
                aiContext.industryType = 'bakery';
            } else if (input.includes('saas') || input.includes('software') || input.includes('platform') || input.includes('app')) {
                aiContext.industryType = 'saas';
            } else {
                aiContext.industryType = 'dental'; // Default
            }

            // Show processing screen
            document.getElementById('screen1').classList.remove('active');
            document.getElementById('screen2').classList.add('active');

            // Update match count
            document.getElementById('matchCount').textContent = industryConfigs[aiContext.industryType].matchCount;

            // Move to pattern recognition after 3 seconds
            setTimeout(showPatternScreen, 3000);
        });

        function showPatternScreen() {
            const config = industryConfigs[aiContext.industryType];
            
            // Update header
            document.getElementById('industryIcon').textContent = config.icon;
            document.getElementById('industryName').textContent = config.name;
            document.getElementById('patternMatchCount').textContent = `Based on ${config.matchCount} similar businesses`;
            
            // Generate challenges
            const challengesGrid = document.getElementById('challengesGrid');
            challengesGrid.innerHTML = config.challenges.map((challenge, idx) => `
                <div class="challenge-card" data-idx="${idx}">
                    <div class="challenge-icon">${challenge.icon}</div>
                    <div class="challenge-text">${challenge.text}</div>
                    <div class="challenge-check">‚úÖ</div>
                </div>
            `).join('');

            // Add click handlers
            challengesGrid.querySelectorAll('.challenge-card').forEach(card => {
                card.addEventListener('click', function() {
                    this.classList.toggle('selected');
                    const selected = challengesGrid.querySelectorAll('.challenge-card.selected').length;
                    
                    if (selected >= 3) {
                        const matchResult = document.getElementById('matchResult');
                        document.getElementById('matchTitle').textContent = `üéØ ${selected} out of ${config.challenges.length}! ${selected >= 5 ? 'Classic pattern.' : 'I see the pattern.'}`;
                        matchResult.classList.add('active');
                        document.getElementById('continueBtn1').disabled = false;
                    }
                });
            });

            // Show screen
            document.getElementById('screen2').classList.remove('active');
            document.getElementById('screen3').classList.add('active');
        }

        // Continue to validation
        document.getElementById('continueBtn1').addEventListener('click', () => {
            document.getElementById('screen3').classList.remove('active');
            document.getElementById('screen4').classList.add('active');
        });

        // Validation question handler
        document.getElementById('validationOptions').querySelectorAll('.option-card').forEach(card => {
            card.addEventListener('click', function() {
                document.getElementById('validationOptions').querySelectorAll('.option-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                aiContext.websiteStatus = this.dataset.value;
                document.getElementById('continueBtn2').disabled = false;
            });
        });

        document.getElementById('continueBtn2').addEventListener('click', () => {
            showDiagnosisScreen();
        });

        function showDiagnosisScreen() {
            const config = industryConfigs[aiContext.industryType];
            
            // Update diagnosis header
            document.getElementById('diagnosisIcon').textContent = config.icon;
            
            // Generate symptoms
            const symptomsGrid = document.getElementById('symptomsGrid');
            symptomsGrid.innerHTML = config.symptoms.map(symptom => `
                <div class="symptom-card ${symptom.severity}">
                    <div class="symptom-header">
                        <div class="symptom-severity">${symptom.severity}</div>
                    </div>
                    <div class="symptom-title">${symptom.title}</div>
                    <div class="symptom-desc">${symptom.desc}</div>
                </div>
            `).join('');

            document.getElementById('screen4').classList.remove('active');
            document.getElementById('screen5').classList.add('active');
        }

        document.getElementById('seePrescriptionBtn').addEventListener('click', () => {
            showPrescriptionScreen();
        });

        function showPrescriptionScreen() {
            const config = industryConfigs[aiContext.industryType];
            
            // Generate prescription timeline
            const timeline = document.getElementById('prescriptionTimeline');
            timeline.innerHTML = config.phases.map((phase, idx) => `
                <div class="phase-card">
                    <div class="phase-header">
                        <div class="phase-number">${idx + 1}</div>
                        <div class="phase-title">${phase.title}</div>
                        <div class="phase-duration">${phase.duration}</div>
                    </div>
                    <div class="phase-details">
                        <ul class="phase-items">
                            ${phase.items.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                        <div class="phase-result">
                            <strong>Expected Result:</strong> ${phase.result}
                        </div>
                    </div>
                </div>
            `).join('');

            document.getElementById('screen5').classList.remove('active');
            document.getElementById('screen6').classList.add('active');
        }
    </script>
</body>
</html>
